# ブラウザ における情報の一時記憶
「昨日ログインしたサービスを今日も利用しようとしたら、自動的にログインの状態になっていた」という経験があるかと思います。  
その都度ログインを行わなくて良いので便利です。  

このような機能が実現できるのは、**セッション**と**クッキー**という仕組みのおかげです。  
Webアプリケーションの使い勝手が良くなるため多くのサービスで使用されています。  
<br>


### セッション
セッションとは、Webサービスにおいて情報を一時的に記憶しておく仕組み。  

よくあるショッピングサイトでもこのセッションという仕組みが利用されている。  
ショッピングサイトには大抵「ユーザー」の概念があり、ログインしていると「お買い物カゴ」などに商品を追加でき、その状態を維持できるようになっている。  

ユーザーの情報やお買い物カゴの情報を一時的に保存し、初回のログイン以降も保持することで、一度ショッピングサイトのページを離れても、再度アクセスした時にログインの状態やお買い物カゴの情報を維持したままショッピングが再開でる。  

<img width="900" alt="image" src="https://i.gyazo.com/63e8c9731c1e891b6a470d6e05914505.png">
<br>

この仕組みにより、何度もログインする必要がなくなる。  

セッションが、実際にどのようにRuby on Railsに実装されているか、コードをみてみる。  
Ruby on Railsにおいてセッションは**session**というオブジェクトにハッシュのような形で格納される。  
<br>

### session
sessionは、　Ruby on Railsでセッションを使用する際に使うオブジェクト。  
コントローラーで使用することができ、下記の様に記述すると保存ができる。  

【例】Tweetsコントローラー  
```
class TestsController < ApplicationController
 def index
  session[:sample] = 1
 end
end
```

sessionというハッシュに値を追加するような記述で使用できる。  
上記の実用例にあげたショッピングサイトなどで、ユーザー情報を保持したい場合などに用いると便利。  
また、PicTweetなどのユーザー機能はdeviseというGemで実装していたが、deviseはその内部の処理でセッションを利用してログイン機能を実現している。  
意識することはなかったものの、すでにセッションを使用していたということになる。  

次は、セッションと切り離せない知識であるクッキーについて説明。  
<br>

### クッキー
クッキーとは、ブラウザが持っている、データを保存できる領域のこと。  
セッションは一時的にデータを保存するという説明をしたが、保存場所はDBではなく、ブラウザである。  
この、ブラウザにあるセッションの情報の保存場所のことをクッキーと呼んでいる。  

<img width="900" alt="image" src="https://i.gyazo.com/a527e872479cc0a9f050abe4fc50681a.png">
<br>

実際に使用されている場面を見てみる。  
クッキーは、私たちが頻繁に利用している「Google Chrome」にも導入されている。  

下記参照  

<img width="800" alt="image" src="https://i.gyazo.com/e73be33b14d35924dd216bb1aa3cd2d3.png">
<br>
